## **1. 项目背景**

该数据表用于存储用户的基本信息

## **2. 设计原则**

- 

## **3. 数据库表结构**

### **3.1 表名：`users`**

- **用途**：存储用户的基本信息

- **引擎**：`InnoDB` 

- **字符集**：`utf8mb4`

- **主键策略**：UUID

  | 字段名            | 数据类型       | 是否主键 | 是否允许为空 | 默认值                                          | 备注                                 |
  | ----------------- | -------------- | -------- | ------------ | ----------------------------------------------- | ------------------------------------ |
  | `id`              | `INT`          | ✅        | ❌            | `AUTO_INCREMENT`                                | 主键，自增                           |
  | `email`           | `VARCHAR(255)` | ❌        | ✅            | `NULL`                                          | 用户邮箱（可选）                     |
  | `username`        | `VARCHAR(100)` | ❌        | ❌            | `NULL`                                          | 用户名                               |
  | `password_hashed` | `VARCHAR(255)` | ❌        | ❌            | `NULL`                                          | 加密存储的用户密码                   |
  | `phone_number`    | `VARCHAR(20)`  | ❌        | ❌            | `NULL`                                          | 手机号码，唯一索引                   |
  | `address`         | `TEXT`         | ❌        | ✅            | `NULL`                                          | 用户地址（可选）                     |
  | `role`            | `TINYINT`      | ❌        | ❌            | `0`                                             | 用户角色（0-普通用户, 1-管理员）     |
  | `status`          | `TINYINT`      | ❌        | ❌            | `0`                                             | 账户状态（0-正常, 1-禁用, 2-待审核） |
  | `created_at`      | `DATETIME`     | ❌        | ✅            | `CURRENT_TIMESTAMP`                             | 账户创建时间                         |
  | `updated_at`      | `DATETIME`     | ❌        | ✅            | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | 账户更新时间                         |

------

## **4. 索引设计**

| **索引名称** | **索引字段**   | **索引类型** | **是否唯一** | **说明**         |
| ------------ | -------------- | ------------ | ------------ | ---------------- |
| `pk_id`      | `id`           | `PRIMARY`    | ✅            | 主键索引         |
| `idx_email`  | `email`        | `UNIQUE`     | ❌            | 邮箱唯一索引     |
| `idx_phone`  | `phone_number` | `Regular`    | ✅            | 电话号码查询加速 |

```sql
CREATE INDEX idx_email ON users(email);
CREATE UNIQUE INDEX idx_phone_number ON users(phone_number);
```

------

## **5. 业务约束**

- `order_no` 字段必须唯一，防止订单重复创建。
- `amount` 不能为负数，防止数据错误。
- `status` 只能是 0（待支付）、1（已支付）、2（已取消）。
- `user_id` 需要关联 `users` 表的 `id`，外键可选。

------

## **6. 数据示例**

```sql

```

------

## **7. 可能的扩展方案**

- 

------

## **8. 关联关系**

| **表名** | **关联字段** | **关系类型** | **说明** |
| -------- | ------------ | ------------ | -------- |
|          |              |              |          |
|          |              |              |          |
|          |              |              |          |

------

## **9. 性能优化**

- 

------

## **10. 备份与恢复策略**

- 